<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" type="text/css" href="mystyle4.css">
<script src="modernizr-1.6.min.js"></script>
<script type="text/javascript">
window.addEventListener('load', eventWindowLoaded, false);
function eventWindowLoaded() {
   settingsAtStart();
}

function settingsAtStart()
{


   //alert("settings at start");
   var canvas = document.getElementById('myCanvas');

   var ctx = canvas.getContext('2d');
   ctx.beginPath();
   // clear the canvas. Will also help when the loop runs.
   ctx.clearRect(0,0, 900, 400);
   // create a line
   ctx.fillStyle='#DEB887';
   ctx.beginPath();
   ctx.moveTo(20, 360);
    ctx.lineTo(400, 360);
    ctx.lineTo(400, 340);
    ctx.lineTo(20, 340);
    ctx.lineTo(20, 360);
   //ctx.MoveTo(375,375);


   ctx.fill();
   ctx.stroke();
   ctx.closePath();
   ctx.beginPath();

   ctx.fillStyle='green';
   ctx.moveTo(400, 360);
   ctx.lineTo(800, 360);
   ctx.lineTo(800, 340);
   ctx.lineTo(400, 340);
   ctx.lineTo(400, 360);

   ctx.fill();
   ctx.stroke();
   ctx.closePath();

   // increment x's place by 10;

   // create an image
   ctx.beginPath();
   // down below is the new ball
   var imageObj = new Image();


    imageObj.onload = function() {


     ctx.drawImage(imageObj, 20, 250);
   };




  /*
   var imageObj2 = new Image();
   imageObj2.onload = function() {
   ctx.drawImage(imageObj2, 45, 5);
 };
  */
  ;
  imageObj.src = 'box-Car.png';
}

//load all the images first. If you don't load all the images first, the image flickers.
// The reason for flickering is that the image is displayed even before it is loaded.
function loadImages()
{

  //  alert("inside loadImages");
    var imgToLoad = 3, imgLoaded = 0;

    var onImgLoad = function()
    {
        imgLoaded++;


    };

    imageObj = new Image();
    imageObj.src = 'box-Car.png';
    imageObj.onload = onImgLoad;
    imageObj2 = new Image();
    imageObj2.src = 'box-Car-Friction.png';
    imageObj2.onload = onImgLoad;



}

function canvasApp() {

  function draw(){

           loadImages();
           var canvas = document.getElementById('myCanvas');

            var ctx = canvas.getContext('2d');

            // clear the canvas. We clear the canvas because every time we run the loop we need to remove the
            // pevious frame.

            ctx.clearRect(0,0, 900, 400);

             ctx.beginPath();
             ctx.moveTo(20, 360);
             ctx.lineTo(800, 360);
             ctx.lineTo(800, 340);
             ctx.lineTo(20, 340);
             ctx.lineTo(20, 360);
             ctx.fillStyle='#DEB887';
             ctx.fill();
             ctx.stroke();
             ctx.closePath();

             ctx.beginPath();

             ctx.fillStyle='green';
             ctx.moveTo(400, 360);
             ctx.lineTo(800, 360);
             ctx.lineTo(800, 340);
             ctx.lineTo(400, 340);
             ctx.lineTo(400, 360);

             ctx.fill();
             ctx.stroke();
             ctx.closePath();

            if(x<200)
            {
            x+=5;
            }


           if(x>=150)
            {
               //alert("x is"+x);
               x+=1;
               m+=1;
               if(x>500)
                   clearInterval(flag);

            }




             if(x<200)

                {
                  ctx.drawImage(imageObj, x, y);
                //  ctx.drawImage(imageScene, 20, 250);
                }

            else if(x>=150)
            {
              //  ctx.drawImage(imageScene, 20, 250);
                ctx.drawImage(imageObj2, m, n);

           }







            imageObj.src = 'box-Car.png';
            imageObj2.src = "box-Car-Friction.png";

        }










   var x= 20;
   var y= 250;
   var m= 150;
   var n= 250;
   var flag = setInterval(draw, 33);

   //var flag2 = setInterval(draw, 33);


}








</script>

</head>
<body>

<p id="heading"><font size="6">Motion on a flat plane with friction involved</font></p>

<input id="slideButton"type= "button" value="slide" onClick= "canvasApp()">
<input type= "button" value="Reset" onClick= "settingsAtStart()">
<input type= "button" value="Next" onclick="location.href = 'BallSmashes.html';">
<div style="position: absolute; top: 40px; left: 50px;">

<canvas id="myCanvas" width="900" height="400"></canvas>

</canvas>
</div>

</body>
</html>
